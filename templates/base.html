<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>{% block title %}Le Vanille{% endblock %}</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap"
          rel="stylesheet">

    <style>
        :root {
            --brand-red: #a8000b;
            --bg-gray: #f8f9fa;
            --nav-black: #121212;
        }
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-gray);
            -webkit-tap-highlight-color: transparent;
        }
        .page { animation: slideUp .25s ease-out; }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .bottom-nav {
            background-color: var(--nav-black);
            box-shadow: 0 -10px 30px rgba(0,0,0,.25);
        }
        .nav-item { color:#666; transition:.3s }
        .nav-item.active {
            color:#fff;
            transform: translateY(-4px);
        }
        .nav-item.active .icon-container::after{
            content:'';
            position:absolute;
            top:-10px;
            left:50%;
            transform:translateX(-50%);
            width:15px;
            height:2px;
            background:var(--brand-red);
            box-shadow:0 0 10px var(--brand-red);
            border-radius:10px;
        }
    </style>

    {% block extra_css %}{% endblock %}
</head>

<body class="pb-32">

<!-- PAGE CONTENT -->
<main class="page">
    {% block content %}
    {% endblock %}
</main>

<!-- BOTTOM NAVBAR (HAMMA SAHIFA UCHUN) -->
<div class="fixed bottom-6 left-6 right-6 z-50">
    <nav class="bottom-nav rounded-[2.2rem] py-5 px-10 flex justify-between items-center">

        <a href="{% url 'home' %}" class="nav-item {% if active == 'home' %}active{% endif %}">
            <div class="icon-container relative">
                <svg class="h-7 w-7" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                </svg>
            </div>
        </a>

        <a href="{% url 'cart' %}" class="nav-item {% if active == 'cart' %}active{% endif %}">
            <div class="icon-container relative">
                <svg class="h-7 w-7" fill="none" stroke="currentColor" stroke-width="2.2"
                     viewBox="0 0 24 24">
                    <path d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                </svg>
                <span id="cart-badge"
                      class="hidden absolute -top-2 -right-3 bg-[#a8000b] text-white text-[10px]
                             min-w-[18px] h-[18px] rounded-full flex items-center justify-center font-black">
                    0
                </span>
            </div>
        </a>

        <a href="{% url 'profile' %}" class="nav-item {% if active == 'profile' %}active{% endif %}">
            <div class="icon-container relative">
                <svg class="h-7 w-7" fill="none" stroke="currentColor" stroke-width="2.2"
                     viewBox="0 0 24 24">
                    <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
            </div>
        </a>

    </nav>
</div>

<script>
    const tg = window.Telegram?.WebApp;
    if (tg) tg.expand();
</script>

{% block extra_js %}{% endblock %}
</body>
</html>
